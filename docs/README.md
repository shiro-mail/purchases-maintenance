# 購入管理・保守管理システム 仕様書

## Phase 1: 要件定義・業務分析 完了

本ディレクトリには、仕様固定アプローチによる購入管理・保守管理システムの包括的な設計文書が含まれています。

### 📋 文書一覧

| 文書名 | 説明 | 主要内容 |
|--------|------|----------|
| [要件定義書](./phase1-requirements-specification.md) | システム全体の業務要件と機能要件 | ユーザーペルソナ、業務フロー、新規要件（チェックボックス機能・部品合計表示） |
| [データモデル仕様書](./data-model-specification.md) | 統一データベース設計 | 新データモデル、計算フィールド、バリデーション規則 |
| [UI/UX仕様書](./ui-ux-specification.md) | ユーザーインターフェース設計 | 全選択/全解除チェックボックス、フォームバリデーション、アクセシビリティ |
| [API仕様書](./api-specification.md) | REST API設計 | 統一レスポンス形式、エラーハンドリング、セキュリティ仕様 |
| [アーキテクチャ仕様書](./architecture-specification.md) | システム全体設計 | レイヤー構成、データフロー、パフォーマンス最適化 |
| [実装ロードマップ](./implementation-roadmap.md) | 段階的実装計画 | Phase 2-4の詳細スケジュール、成功基準、リスク管理 |

### 🎯 新規要件への対応

#### ①基本情報管理項目の明確化
- **部品合計フィールド**: 部品の「売上金額」の合計を表示
- **税抜合計フィールド**: 「運賃」＋「部品合計」の自動計算
- **表示順序**: ページ、出荷日、受注番号、納入先番号、担当者、運賃、部品合計、税抜合計

#### ②チェックボックス機能強化
- **全選択機能**: テーブルヘッダーにマスターチェックボックス配置
- **全解除機能**: マスターチェックボックスで全行選択解除
- **連動機能**: マスター↔行チェックボックスの双方向連動
- **視覚的フィードバック**: 部分選択時の中間状態表示

### 🔧 技術的負債の解消

現在のシステムで確認された以下の課題を解決：

- ✅ **複雑なデータ変換ロジック** → 統一データモデルとバリデーション戦略
- ✅ **エラーハンドリングの分散** → 統一エラーハンドリング戦略
- ✅ **データ整合性の課題** → 統一APIスキーマとバリデーション
- ✅ **状態管理の複雑さ** → 明確な状態管理戦略とデータフロー設計

### 📊 現在のシステム分析結果

**データベース構造**:
- `basic_info`: 1件のレコード（基本情報）
- `parts_info`: 2件のレコード（部品情報）

**主要機能**:
- JSONファイル取込 ✅
- PNG画像取込（Dify API連携） ✅
- 基本情報管理 ✅
- 部品情報管理 ✅
- 個別チェックボックス ✅
- 全選択/全解除チェックボックス ❌（要実装）

### 🚀 次のステップ

1. **Phase 1完了確認**: 全仕様書のレビューと承認
2. **Phase 2開始準備**: 実装チームの体制確立
3. **開発環境準備**: 新アーキテクチャ対応の環境構築

### 📈 期待される効果

- **開発効率向上**: 明確な仕様による実装の迷いの解消
- **品質向上**: 統一されたアーキテクチャによるバグの削減
- **保守性向上**: 技術的負債の解消による長期的な安定性
- **ユーザビリティ向上**: チェックボックス機能による操作効率の改善

---

**作成日**: 2025年8月11日  
**承認待ち**: Phase 1仕様書一式  
**次フェーズ**: Phase 2実装開始（承認後）
